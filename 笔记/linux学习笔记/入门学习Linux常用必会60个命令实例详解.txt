入门学习Linux常用必会60个命令实例详解 
Linux必学的60个命令 
Linux提供了大量的命令だ用它可以有效地完成大量的工作と绱排滩僮鳌⑽募存取、
目录操作、进程管理、文件权限设定等。所以ぴLinux系统上工作离不开使用系统提
供的命令。要想真正理解Linux系统ぞ捅匦氪Linux命令学起ねü基础的命令学习
可以进一步理解Linux系统。 
不同Linux发行版的命令数量不一样さLinux发行版本最少的命令也有200多个。这
里笔者把比较重要和使用频率最多的命令ぐ凑账们在系统中的作用分成下面六个部分
一一介绍。 
◆ 安装和登录命令login、shutdown、halt、reboot、install、mount、umount、chsh、
exit、last 
◆ 文件处理命令file、mkdir、grep、dd、find、mv、ls、diff、cat、ln 
◆ 系统管理相关命令df、top、free、quota、at、lp、adduser、groupadd、kill、crontab 
◆ 网络操作命令ifconfig、ip、ping、netstat、telnet、ftp、route、rlogin、rcp、finger、
mail、 nslookup 
◆ 系统安全相关命令passwd、su、umask、chgrp、chmod、chown、chattr、sudo ps、
who 
◆ 其它命令tar、unzip、gunzip、unarj、mtools、man、unendcode、uudecode。 
本文以Mandrake Linux 9.1(Kenrel 2.4.21)为例そ樯Linux下的安装和登录命令。 
immortality按η胗ctrl+f在本页中查找某一部分的内容或某一命令的用法。 
-------------------------------------------------------------------------------- 
Linux必学的60个命令(1)-安装与登陆命令 
login 
1.作用 
login的作用是登录系统に的使用权限是所有用户。 
2.格式 
login [name][p ][h 主机名称] 
3.主要参数 p:通知login保持现在的环境参数。 
h:用来向远程登录的之间传输用户名。 
如果选择用命令行模式登录Linux的话ツ敲纯吹降牡谝桓Linux命令就是loginА 
一般界面是这样的 
Manddrake Linux release 9.1(Bamboo) for i586 
renrel 2.4.210.13mdk on i686 / tty1 
localhost login:root 
password: 
上面代码中サ谝恍惺Linux发行版本号サ诙行是内核版本号和登录的虚拟控制台
我们在第三行输入登录名グ础Enter”键在Password后输入账户密码ゼ纯傻锹枷低场
出于安全考虑ナ淙胝嘶密码时字符不会在屏幕上回显ス獗暌膊灰贫。 
登录后会看到下面这个界面Ｒ猿级用户为例お 
[root@localhost root]# 
last login:Tue ,Nov 18 10:00:55 on vc/1 
上面显示的是登录星期、月、日、时间和使用的虚拟控制台。 
4.应用技巧 
Linux 是一个真正的多用户操作系统タ梢酝时接受多个用户登录セ乖市硪桓鲇没Ы
行多次登录。这是因为Linux和许多版本的Unix一样ヌ峁┝诵槟饪刂铺ǖ姆梦史绞姜
允许用户在同一时间从控制台Ｏ低车目刂铺ㄊ怯胂低持苯酉嗔的监视器和键盘そ行
多次登录。每个虚拟控制台可以看作是一个独立的工作站スぷ魈ㄖ间可以切换。虚拟
控制台的切换可以通过按下Alt键和一个功能键来实现ネǔＪ褂F1-F6 。 
例如ビ没У锹己螵グ匆幌隆Alt+ F2”键ビ没Ь涂梢钥吹缴厦娉鱿值摹login:”提示符ニ
明用户看到了第二个虚拟控制台。然后只需按“Alt+ F1”键ゾ涂梢曰氐降谝桓鲂槟饪刂
台。一个新安装的Linux系统允许用户使用“Alt+F1”到“Alt+F6”键来访问前六个虚拟控制
台。虚拟控制台最有用的是サ币桓龀绦虺龃碓斐上低乘浪时タ梢郧谢坏狡渌虚拟控
制台工作ス乇照飧龀绦颉 
shutdown 
1.作用 shutdown命令的作用是关闭计算机に的使用权限是超级用户。 
2.格式 
shutdown [h][i][k][m][t] 
3.重要参数 
tυ诟谋涞狡渌运行级别之前じ嫠init程序多久以后关机。 
kΣ⒉徽嬲关机ぶ皇撬途告信号给每位登录者。 
h关机后关闭电源。 
ccancel current process取消目前正在执行的关机程序。所以这个选项当然没有时
间参数さ是可以输入一个用来解释的讯息ざ这信息将会送到每位使用者。 
Fυ谥仄艏扑慊时强迫fsck。 
timeι瓒ü鼗前的时间。 
m: 将系统改为单用户模式。 
i关机时显示系统信息。 
4.命令说明 
shutdown 命令可以安全地将系统关机。有些用户会使用直接断掉电源的方式来关闭
Linux系统ふ馐鞘分危险的。因为Linux与Windows不同て浜筇ㄔ诵凶判矶嘟程
所以强制关机可能会导致进程的数据丢失な瓜低炒τ诓晃榷ǖ淖刺ど踔猎谟械南低
中会损坏硬件设备⒂才酞！Ｔ谙低彻鼗前使用 shutdown命令は低彻芾碓被嵬ㄖ所
有登录的用户系统将要关闭げ⑶login指令会被冻结ぜ葱碌挠没Р荒茉俚锹肌 
halt 
1.作用 
halt命令的作用是关闭系统に的使用权限是超级用户。 
2.格式 
halt [n] [w] [d] [f] [i] [p] 
3.主要参数说明 
nΨ乐sync系统调用に用在用fsck修补根分区之后ひ宰柚鼓诤擞美习姹镜某级
块覆盖修补过的超级块。 wΣ⒉皇钦嬲的重启或关机,只是写wtmp/var/log/wtmp＜吐肌 
fγ挥械饔shutdownざ强制关机或重启。 
i关机⒒蛑仄舄Ｇ蔼す氐羲有的网络接口。 
fη科裙鼗げ缓艚shutdown这个指令。 
p: 当关机的时候顺便做关闭电源的动作。 
d关闭系统さ不留下纪录。  
4.命令说明 
halt 就是调用shutdown h。halt执行时ど彼烙τ媒程ぶ葱sync(将存于buffer中
的资料强制写入硬盘中)系统调用の募系统写操作完成后就会停止内核。若系统的运行
级别为0或6ぴ蚬乇障低唱Х裨蛞shutdown指令⒓由溪h参数＠慈〈。  
reboot 
1.作用 
reboot命令的作用是重新启动计算机に的使用权限是系统管理者。 
2.格式 
reboot [n] [w] [d] [f] [i] 
3.主要参数 
n: 在重开机前不做将记忆体资料写回硬盘的动作。 
w: 并不会真的重开机ぶ皇前鸭锹夹吹/var/log/wtmp文件里。 
d: 不把记录写到/var/log/wtmp文件里n这个参数包含了d！ 
i: 在重开机之前先把所有与网络相关的装置停止。 
install 
1.作用 
install命令的作用是安装或升级软件或备份数据に的使用权限是所有用户。 
2.格式 
(1)install [选项]... 来源 目的地 
(2)install [选项]... 来源... 目录 (3)install d [选项]... 目录... 
在前两种格式中⒒峤<来源>复制至<目的地>或将多个<来源>文件复制至已存在的<目
录>⑼时设定权限模式及所有者/所属组。在第三种格式中⒒岽唇ㄋ有指定的目录及
它们的主目录。长选项必须用的参数在使用短选项时也是必须的。 
3.主要参数 
＊backup[=CONTROL]の每个已存在的目的地文件进行备份。 
bだ嗨 ＊backup⒌不接受任何参数。 
c(此选项不作处理)。 
d＊directoryに有参数都作为目录处理⒍且会创建指定目录的所有主目录。 
Dご唇<目的地>前的所有主目录⑷缓蠼<来源>复制至 <目的地>ピ诘谝恢质褂
格式中有用。 
g＊group=组ぷ孕猩瓒ㄋ属组⒍不是进程目前的所属组。 
m＊mode=模式ぷ孕猩瓒ㄈㄏ弈Ｊ (像chmod)⒍不是rwxrxrx。 
o＊owner=所有者ぷ孕猩瓒ㄋ有者 (只适用于超级用户)。 
p＊preservetimestampsひ<来源>文件的访问/修改时间作为相应的目的地文
件的时间属性。 
s＊stripびstrip命令删除symbol table⒅皇视糜诘谝患暗诙种使用格式。 
S＊suffix=后缀ぷ孕兄付ū阜菸募的<后缀>。 
v＊verboseご理每个文件/目录时印出名称。 
＊helpは允敬税镏信息并离开。 
＊versionは允景姹拘畔⒉⒗肟。 
mount 
1.作用 
mount命令的作用是加载文件系统⑺的用权限是超级用户或/etc/fstab中允许的使用者。 
2.格式 
mount a [fv] [t vfstype] [n] [rw] [F] device dir 
3.主要参数 hㄏ允靖ㄖ信息。 
vㄏ允拘畔νǔ：酮f用来除错。 
a将/etc/fstab中定义的所有文件系统挂上。 
Fㄕ飧雒令通常和a一起使用λ会为每一个mount的动作产生一个行程负责执
行。在系统需要挂上大量NFS文件系统时可以加快加载的速度。 
fㄍǔＳ糜诔错。它会使mount不执行实际挂上的动作Χ是模拟整个挂上的过程
通常会和v一起使用。 
t vfstypeㄏ允颈患釉匚募系统的类型。 
nㄒ话愣言mount挂上后会在/etc/mtab中写入一笔资料υ谙低持忻挥锌尚慈胛
件系统的情况下可以用这个选项取消这个动作。 
4.应用技巧 
在Linux 和Unix系统上λ有文件都是作为一个大型树ひ/为根サ囊徊糠址梦实摹
要访问CD-ROM上的文件π枰将CD-ROM设备挂装在文件树中的某个挂装点。如果
发行版安装了自动挂装包δ敲凑飧霾街杩勺远进行。在Linux中θ绻要使用硬盘、
光驱等储存设备就得先将它加载Φ贝⒋嫔璞腹疑狭酥后就可以把它当成一个目录
来访问。挂上一个设备使用mount命令。在使用mount这个指令时χ辽僖先知道下列
三种信息ㄒ加载对象的文件系统类型、要加载对象的设备名称及要将设备加载到哪个
目录下。 
1Linux可以识别的文件系统 
◆ Windows 95/98常用的FAT 32文件系统vfat  
◆ Win NT/2000 的文件系统ntfs  
◆ OS/2用的文件系统hpfs 
◆ Linux用的文件系统ext2、ext3 
◆ CD-ROM光盘用的文件系统iso9660。 
虽然vfat是指FAT 32系统Φ事实上它也兼容FAT 16的文件系统类型。 
2ト范ㄉ璞傅拿称 
在Linux 中ι璞该称通常都存在/dev里。这些设备名称的命名都是有规则的可以用
“推理”的方式把设备名称找出来。例如/dev/hda1这个 IDE设备hd是Hard Disk(硬
盘)的sd是SCSI Devicefd是Floppy Device(或是Floppy Disk?)。a代表第一个设备ネǔIDE接口可以接上4个IDE设备(比如4块硬盘)。所以要识别IDE硬盘的方法
分别就是hda、hdb、hdc、 hdd。hda1中的“1”代表hda的第一个硬盘分区 (partition)
hda2代表hda的第二主分区サ谝桓雎呒分区从hda5开始ヒ来死嗤啤４送猹タ梢灾
接检查 /var/log/messages文件ピ诟梦募中可以找到计算机开机后系统已辨认出来的
设备代号。 
3げ檎夜医拥 
在决定将设备挂接之前ハ纫查看一下计算机是不是有个/mnt的空目录ジ媚柯季褪亲
门用来当作挂载点(Mount Point)的目录。建议在/mnt里建几个/mnt/cdrom、/mnt/floppy、
/mnt/mo等目录サ弊髂柯嫉淖ㄓ霉以氐恪＞倮而言ト缫挂载下列5个设备テ渲葱
指令可能如下 (假设都是Linux的ext2系统ト绻是Windows XX请将ext2改成vfat) 
软盘 ===>mount t ext2 /dev/fd0 /mnt/floppy 
cdrom ===>mount t iso9660 /dev/hdc /mnt/cdrom 
SCSI cdrom ===>mount t iso9660 /dev/sdb /mnt/scdrom 
SCSI cdr ===>mount t iso9660 /dev/sdc /mnt/scdr 
不过目前大多数较新的Linux发行版本０括红旗 Linux、中软Linux、Mandrake Linux
等ざ伎梢宰远挂装文件系统サRed Hat Linux除外。 
umount 
1.作用 
umount命令的作用是卸载一个文件系统ニ的使用权限是超级用户或/etc/fstab中允许
的使用者。 
2.格式 
unmount a [fFnrsvw] [t vfstype] [n] [rw] [F] device dir 
3.使用说明 
umount 命令是mount命令的逆操作ニ的参数和使用方法和mount命令是一样的。
Linux挂装CD-ROM后セ崴定CD―ROMフ庋就不能用CD- ROM面板上的Eject
按钮弹出它。但是サ辈辉傩枰光盘时ト绻已将/cdrom作为符号链接デ胧褂
umount/cdrom来卸装它。仅当无用户正在使用光盘时ジ妹令才会成功。该命令包括
了将带有当前工作目录当作该光盘中的目录的终端窗口。 
chsh 1.作用 
chsh命令的作用是更改使用者shell设定ニ的使用权限是所有使用者。 
2.格式 
chsh [ s ] [ list] [ Κhelp ] [ v ] [ username ] 
3.主要参数 
l显示系统所有Shell类型。 
v显示Shell版本号。 
4.应用技巧 
前面介绍了Linux下有多种Shellヒ话闳笔〉氖Bashト绻想更换Shell类型可以使用
chsh命令。先输入账户密码ト缓笫淙胄Shell类型ト绻操作正确系统会显示“Shell 
change”。其界面一般如下 
Changing fihanging shell for cao 
Password: 
New shell [/bin/bash]: /bin/tcsh 
上面代码中[ ]内是目前使用的Shell。普通用户只能修改自己的Shellコ级用户可以
修改全体用户的Shell。要想查询系统提供哪些Shellタ梢允褂chsh -l 命令ゼ图1
所示。 
图1 系统可以使用的Shell类型 
从图1中可以看到ケ收呦低持锌梢允褂玫Shell有bashＨ笔―ぁcsh、sh、tcsh四
种。 
exit 
1.作用 
exit命令的作用是退出系统ニ的使用权限是所有用户。 
2.格式 
exit 
3.参数 
exit命令没有参数ピ诵泻笸顺鱿低辰入登录界面。 last 
1.作用 
last命令的作用是显示近期用户或终端的登录情况に的使用权限是所有用户。通过last
命令查看该程序的logす芾碓笨梢曰裰谁曾经或企图连接系统。 
2.格式 
1ast[―n][f file][t tty] [―h 节点][I ―IP][―1][y][1D] 
3.主要参数 
nχ付ㄊ涑黾锹嫉奶跏。 
f fileχ付ㄓ梦募file作为查询用的log文件。 
t ttyχ幌允局付ǖ男槟饪刂铺ㄉ系锹记榭觥 
h 节点χ幌允局付ǖ慕诘闵系牡锹记榭觥 
i IPχ幌允局付ǖIP上登录的情况。 
1τIP来显示远端地址。 
yο允炯锹嫉哪辍⒃隆⑷铡 
IDχ道查询的用户名。 
x:显示系统关闭、用户登录和退出的历史。 
动手练习 
上面介绍了Linux安装和登录命令は旅娼樯芗父鍪道ざ手练习一下刚才讲过的命令。 
1.一次运行多个命令 
在一个命令行中可以执行多个命令び梅趾沤各个命令隔开即可だ如 
last xhalt 
上面代码表示在显示系统关闭、用户登录和退出的历史后关闭计算机。 
2.利用mount挂装文件系统访问Windows系统 
许多Linux发行版本现在都可以自动加载Vfat分区来访问Windows系统ざRed Hat
各个版本都没有自动加载Vfat分区ひ虼嘶剐枰进行手工操作。 mount 可以将Windows分区作为Linux的一个“文件”挂接到Linux的一个空文件夹下
从而将Windows的分区和/mnt这个目录联系起来。因此ぶ灰访问这个文件夹就相当
于访问该分区了。首先要在/mnt下建立winc文件夹ぴ诿令提示符下输入下面命令 
mount -t vfat /dev/hda1 /mnt/winc 
即表示将Windows的C分区挂到Liunx的/mnt/winc目录下。这时ぴ/mnt/winc目录下
就可以看到Windows中C盘的内容了。使用类似的方法可以访问Windows系统的D、
E盘。在Linux系统显示Windows的分区一般顺序这样的hda1为C盘、hda5为D
盘、 hda6为E盘……以此类推。上述方法可以查看Windows系统有一个很大的问题
就是Windows中的所有中文文件名或文件夹名全部显示为问号 “Α豹ざ英文却可以正
常显示。我们可以通过加入一些参数让它显示中文。还以上面的操作为例ご耸笔淙朊
令 
mount -t vfat -o iocharset=cp936 /dev/hda1 /mnt/winc 
现在它就可以正常显示中文了。 
3.使用mount加挂闪盘上的文件系统 
在Linux下使用闪盘非常简单。Linux对USB设备有很好的支持さ辈迦肷僚毯螵ど僚
被识别为一个SCSI盘ねǔＪ淙胍韵旅令 
 mount /dev/sda1 /usb 
就能够加挂闪盘上的文件系统。 
小知识 
Linux命令与Shell 
所谓Shellぞ褪敲令解释程序に提供了程序设计接口た梢允褂贸绦蚶幢喑獭Ｑ习
Shell对于Linux初学者理解Linux系统是非常重要的。 Linux系统的Shell作为操作系
统的外壳の用户提供了使用操作系统的接口。Shell是命令语言、命令解释程序及程序
设计语言的统称な怯没Ш Linux内核之间的接口程序。如果把Linux内核想象成一个
球体的中心Shell就是围绕内核的外层。当从Shell或其它程序向Linux传递命令时
内核会做出相应的反应。Shell在Linux系统的作用和MS DOS下的COMMAND.COM
和Windows 95/98 的 explorer.exe相似。Shell虽然不是系统核心的一部分ぶ皇窍低
核心的一个外延さ它能够调用系统内核的大部分功能。因此た梢运 Shell是
Unux/Linux最重要的实用程序。 
Linux中的Shell有多种类型て渲凶畛Ｓ玫氖Bourne Shell(sh)、C Shell(csh)和Korn 
Shell(ksh)。大多数Linux发行版本缺省的Shell是Bourne Again Shellに是Bourne Shell的扩展ゼ虺bashビBourne Shell完全向后兼容ゲ⑶以Bourne Shell的基础上增
加了很多特性。bash放在/bin/bash中タ梢蕴峁┤缑令补全、命令编辑和命令历史表
等功能。它还包含了很多C Shell和Korn Shell中的优点ビ辛榛詈颓看蟮谋喑探涌讵
同时又有很友好的用户界面。Linux系统中200多个命令中有40个是bash的内部命令
主要包括 exit、less、lp、kill、 cd、pwd、fc、fg等。 
-------------------------------------------------------------------------------- 
Linux必学的60个命令(2)-文件处理命令 
Linux 系统信息存放在文件里ノ募与普通的公务文件类似。每个文件都有自己的名字、
内容、存放地址及其它一些管理信息ト缥募的用户、文件的大小等。文件可以是一封
信、一个通讯录セ蛘呤浅绦虻脑从锞洹⒊绦虻氖据ド踔量梢园括可执行的程序和其
它非正文内容。 Linux文件系统具有良好的结构ハ低程峁┝撕芏辔募处理程序。这里
主要介绍常用的文件处理命令。 
file 
1.作用 件内容判断文件类型ナ褂萌ㄏ奘撬有用户。 
2.格式 
file通过探测文 
file [options] 文件名 
3.[options]主要参数 
-vυ诒曜际涑龊笙允景姹拘畔ゲ⑶彝顺觥 
-zμ讲庋顾豕的文件类型。 
-Lυ市矸合连接。 
-f nameΥ游募namefile中读取要分析的文件名列表。 
4.简单说明 
使用file命令可以知道某个文件究竟是二进制ELF格式さ目芍葱形募, 还是Shell 
Script文件セ蛘呤瞧渌的什么格式。file能识别的文件类型有目录、Shell脚本、英文
文本、二进制可执行文件、C语言源文件、文本文件、DOS的可执行文件。 
5.应用实例 
如果我们看到一个没有后缀的文件grapタ梢允褂孟旅婷令 $ file grap 
grap English text 
此时系统显示这是一个英文文本文件。需要说明的是file命令不能探测包括图形、音频、
视频等多媒体文件类型。 
mkdir 
1.作用 
mkdir命令的作用是建立名称为dirname的子目录ＳMS DOS下的md命令类似Ｋ
的使用权限是所有用户。 
2.格式 
mkdir [options] 目录名 
3.[options]主要参数 
m, おmode=模式ド瓒ㄈㄏ<模式>Ｓchmod类似。 
p, おparentsバ枰时创建上层目录θ绻目录早已存在Ｔ虿坏弊鞔砦蟆 
v, おverboseッ看未唇ㄐ履柯级枷允拘畔。 
おversionハ允景姹拘畔⒑罄肟。 
4.应用实例 
在进行目录创建时可以设置目录的权限４耸笔褂玫牟问是“m”。假设要创建的目录名
是“tsk”Ｈ盟有用户都有rwx(即读、写、执行的权限)Ｄ敲纯梢允褂靡韵旅令 
$ mkdir m 777 tsk 
grep 
1.作用 
grep命令可以指定文件中搜索特定的内容２⒔含有这些内容的行标准输出。grep全称
是Global Regular Expression Print１硎救局正则表达式版本Ｋ的使用权限是所有用
户。 
2.格式 
grep [options] 
3.主要参数 [options]主要参数 
cе皇涑銎ヅ湫械募剖。 
IР磺分大小写Ｖ皇视糜诘プ址ぁ 
hР檠多文件时不显示文件名。 
lР檠多文件时只输出包含匹配字符的文件名。 
n显示匹配行及行号。 
sР幌允静淮嬖诨蛭奁ヅ湮谋镜拇砦笮畔。 
v显示不包含匹配文本的所有行。 
pattern正则表达式主要参数 
\Ш雎哉则表达式中特殊字符的原有含义。 
^匹配正则表达式的开始行。 
$: 匹配正则表达式的结束行。 
\<Т悠ヅ湔则表达式的行开始。 
\>У狡ヅ湔则表达式的行结束。 
[ ]Уジ鲎址ト[A]即A符合要求 。 
[ - ]Х段Иト[A-Z]ゼA、B、C一直到Z都符合要求 。 
。所有的单个字符。 
* в凶址コざ瓤梢晕0。 
正则表达式是Linux/Unix系统中非常重要的概念。正则表达式Ｒ渤莆“regex”或“regexp”
是一个可以描述一类字符串的模式PatternぁＨ绻一个字符串可以用某个正则表达式
来描述ノ颐蔷退嫡飧鲎址和该正则表达式匹配MatchぁＵ夂DOS中用户可以使用
通配符 “*”代表任意字符类似。在Linux系统上フ则表达式通常被用来查找文本的模式
以及对文本执行“搜索μ婊弧辈僮骱推渌功能。 
4.应用实例 
查询DNS服务是日常工作之一フ庖馕蹲乓维护覆盖不同网络的大量IP地址。有时IP
地址会超过2000个。如果要查看nnn.nnn网络地址サ是却忘了第二部分中的其余部
分ブ恢到有两个句点ダ如nnn nn..。要抽取其中所有nnn.nnn IP地址ナ褂[09 ]\{3 \}\.[00\{3\}\。含义是任意数字出现3次⒑蟾句点⒔幼攀侨我馐字出现3次⒑蟾
句点。 
$grep '[09 ]\{3 \}\.[00\{3\}\' ipfile 
补充说明grep家族还包括fgrep和egrep。fgrep是fix grep⒃市聿檎易址串而不是
一个模式egrep是扩展grep⒅С只本及扩展的正则表达式⒌不支持\q模式范围的
应用及与之相对应的一些更加规范的模式。 
dd 
1.作用 
dd命令用来复制文件⒉⒏据参数将数据转换和格式化。 
2.格式 
dd [options] 
3.[opitions]主要参数 
bs=字节で科 ibs=<字节>及obs=<字节>。 
cbs=字节っ看巫换指定的<字节>。 
conv=关键字じ据以逗号分隔的关键字表示的方式来转换文件。 
count=块数目ぶ桓粗浦付<块数目>的输入数据。 
ibs=字节っ看味寥≈付ǖ<字节>。 
if=文件ざ寥<文件>内容⒍非标准输入的数据。 
obs=字节っ看涡慈胫付ǖ<字节>。 
of=文件そ数据写入<文件>⒍不在标准输出显示。 
seek=块数目は嚷怨以obs为单位的指定<块数目>的输出数据。 
skip=块数目は嚷怨以ibs为单位的指定<块数目>的输入数据。 
4.应用实例 
dd命令常常用来制作Linux启动盘。先找一个可引导内核⒘钏的根设备指向正确的根
分区⑷缓笫褂dd命令将其写入软盘 
$ rdev vmlinuz /dev/hda 
$dd ifvmlinuz of/dev/fd0 上面代码说明ナ褂rdev命令将可引导内核vmlinuz中的根设备指向/dev/hdaデ氚选hda”
换成自己的根分区ソ酉吕从dd命令将该内核写入软盘。 
find 
1.作用 
find命令的作用是在目录中搜索文件ニ的使用权限是所有用户。 
2.格式 
find [path][options][expression] 
path指定目录路径ハ低炒诱饫锟始沿着目录树向下查找文件。它是一个路径列表ハ
互用空格分离ト绻不写pathツ敲茨认为当前目录。 
3.主要参数 
[options]参数 
depth使用深度级别的查找过程方式ピ谀巢阒付目录中优先查找文件内容。 
maxdepth levelsП硎局炼嗖檎业娇始目录的第level层子目录。level是一个非负数
如果level是0的话表示仅在当前目录中查找。 
mindepth levelsП硎局辽俨檎业娇始目录的第level层子目录。 
mountР辉谄渌文件系统ＨMsdos、Vfat等さ哪柯己臀募中查找。 
versionТ蛴“姹尽 
[expression]是匹配表达式ナfind命令接受的表达式find命令的所有操作都是针对表
达式的。它的参数非常多フ饫镏唤樯芤恍┏Ｓ玫牟问。 
―nameеС滞撑浞*和?。 
atime n搜索在过去n天读取过的文件。 
ctime n搜索在过去n天修改过的文件。 
group grpoupname搜索所有组为grpoupname的文件。 
user 用户名搜索所有文件属主为用户名ID或名称さ奈募。 
size n搜索文件大小是n个block的文件。 
print输出搜索结果ゲ⑶掖蛴　 
4.应用技巧 find命令查找文件的几种方法 
1８据文件名查找 
例如の颐窍胍查找一个文件名是lilo.conf的文件た梢允褂萌缦旅令 
find / name lilo.conf 
find命令后的“/”表示搜索整个硬盘。 
2？焖俨檎椅募 
根据文件名查找文件会遇到一个实际问题ぞ褪且花费相当长的一段时间ぬ乇鹗谴笮
Linux文件系统和大容量硬盘文件放在很深的子目录中时。如果我们知道了这个文件存
放在某个目录中つ敲粗灰在这个目录中往下寻找就能节省很多时间。比如smb.conf
文件ご铀的文件后缀“.conf”可以判断这是一个配置文件つ敲此应该在/etc目录内
此时可以使用下面命令 
find /etc name smb.conf 
这样な褂谩翱焖俨檎椅募”方式可以缩短时间。 
3８据部分文件名查找方法 
有时我们知道只某个文件包含有abvd这4个字つ敲匆查找系统中所有包含有这4个
字符的文件可以输入下面命令 
find / name '*abvd*' 
输入这个命令以后Linux系统会将在/目录中查找所有的包含有abvd这4个字符的文
件⑵渲*是通配符＊け热abvdrmyz等符合条件的文件都能显示出来。 
(4) 使用混合查找方式查找文件 
find命令可以使用混合查找的方法だ如の颐窍朐/etc目录中查找大于500000字节
并且在24小时内修改的某个文件ぴ蚩梢允褂-and (与)把两个查找参数链接起来组合成
一个混合的查找方式。 
find /etc -size +500000c -and -mtime +1 
mv 
1.作用 
mv命令用来为文件或目录改名せ蛘呓文件由一个目录移入另一个目录中に的使用权
限是所有用户。该命令如同DOS命令中的ren和move的组合。 2.格式 
mv[options] 源文件或目录 目标文件或目录 
3.[options]主要参数 
i交互方式操作。如果mv操作将导致对已存在的目标文件的覆盖ご耸毕低逞问是
否重写ひ求用户回答“y”或“n”ふ庋可以避免误覆盖文件。 
f禁止交互操作。mv操作要覆盖某个已有的目标文件时不给任何指示ぶ付ù瞬问
后i参数将不再起作用。 
4.应用实例 
1＝/usr/cbu中的所有文件移到当前目录⒂谩.”表示Ｖ歇 
$ mv /usr/cbu/ * . 
2＝文件cjh.txt重命名为wjz.txt 
$ mv cjh.txt wjz.txt  
ls 
1.作用 
ls命令用于显示目录内容だ嗨DOS下的dir命令に的使用权限是所有用户。 
2.格式 
ls [options][filename] 
3.options主要参数 
a, オallΣ灰藏任何以“.” 字符开始的项目。 
A, オalmostallα谐龀了“ . ”及 “.. ”以外的任何项目。 
オauthorτ〕雒扛鑫募著作者。 
b, オescapeσ园私制溢出序列表示不可打印的字符。 
オblocksize=大小块以指定<大小>的字节为单位。 
B, オignorebackupsΣ涣谐鋈魏我 ~ 字符结束的项目。 
fΣ唤行排序おaU参数生效おlst参数失效。 
F, オclassify加上文件类型的指示符号 (*/=@| 其中一个)。 glike l, but do not list owner。 
G, Κnogroupinhibit display of group information。 
i, ΚinodeЯ谐雒扛鑫募的inode号。 
I, Κignore=样式Р挥〕鋈魏畏合Shell万用字符<样式>的项目。 
kЪ椽Κblocksize=1K。 
l使用较长格式列出信息。 
L, ΚdereferenceУ毕允痉号链接的文件信息时ハ允痉号链接所指示的对象
而并非符号链接本身的信息。 
m所有项目以逗号分隔ゲ⑻盥整行行宽。 
n, ΚnumericuidgidЮ嗨篇lサ列出UID及GID号。 
N, ΚliteralЯ谐鑫淳处理的项目名称ダ如不特别处理控制字符。 
p, ΚfiletypeЪ由衔募类型的指示符号 (/=@| 其中一个)。 
Q, ΚquotenameЫ项目名称括上双引号。 
r, Κreverseб老喾创涡蚺帕小 
R, Κrecursive同时列出所有子目录层。 
s, Κsizeб钥榇笮∥序。 
4.应用举例 
ls 命令是Linux系统使用频率最多的命令ニ的参数也是Linux命令中最多的。使用ls
命令时会有几种不同的颜色テ渲欣渡表示是目录ヂ躺表示是可执行文件ズ焐表示
是压缩文件デ忱渡表示是链接文件ゼ哟值暮谏表示符号链接セ疑表示是其它格式
文件。ls最常使用的是ls- lゼ图1所示。 
图1 使用ls-l命令 
文件类型开头是由10个字符构成的字符串。其中第一个字符表示文件类型ニ可以是下
述类型之一ИΚＦ胀ㄎ募ぁdＤ柯吉ぁl７号链接ぁb？樯璞肝募ぁcＷ
符设备文件ぁ：竺娴9个字符表示文件的访问权限シ治3组ッ孔3位。第一组表
示文件属主的权限サ诙组表示同组用户的权限サ谌组表示其他用户的权限。每一组
的三个字符分别表示对文件的读rぁ⑿椽wず椭葱腥ㄏ蕺xぁ６杂谀柯吉ケ硎窘入
权限。s表示当文件被执行时グ迅梦募的UID 或GID赋予执行进程的UIDＳ没IDせGIDＷ IDぁt表示设置标志位Ａ粼谀诖妾ゲ槐换怀霆ぁＨ绻该文件是目录ツ
么在该目录中的文件只能被超级用户、目录拥有者或文件属主删除。如果它是可执行文
件ツ敲丛诟梦募执行后ブ赶蚱湔文段的指针仍留在内存。这样再次执行它时ハ低
就能更快地装入该文件。接着显示的是文件大小、生成时间、文件或命令名称。 
diff 
1.作用 
diff命令用于两个文件之间的比较ゲ⒅赋隽秸叩牟煌ニ的使用权限是所有用户。 
2.格式 
diff [options] 源文件 目标文件 
3.[options]主要参数 
-a将所有文件当作文本文件来处理。 
-b忽略空格造成的不同。 
-B忽略空行造成的不同。 
-cκ褂酶僖输出格式。 
-H利用试探法加速对大文件的搜索。 
-I忽略大小写的变化。 
-n --rcsκ涑RCS格式。 
cmp 
1.作用 
cmp！compare”的缩写っ令用来简要指出两个文件是否存在差异ニ的使用权限是所
有用户。 
2.格式 
cmp[options] 文件名 
3.[options]主要参数 
-l: 将字节以十进制的方式输出ゲ⒎奖憬两个文件中不同的以八进制的方式输出。 
cat 
1.作用 cat！concatenate”的缩写っ令用于连接并显示指定的一个和多个文件的有关信息ニ
的使用权限是所有用户。 
2.格式 
cat [options] 文件1 文件2…… 
3.[options]主要参数 
nв傻谝恍锌始对所有输出的行数编号。 
bШ酮n相似ブ徊还对于空白行不编号。 
sУ庇龅接辛续两行以上的空白行时ゾ痛换为一行的空白行。 
4.应用举例 
1cat命令一个最简单的用处是显示文本文件的内容。例如ノ颐窍朐诿令行看一下
README文件的内容タ梢允褂妹令 
$ cat README  
2び惺毙枰将几个文件处理成一个文件ゲ⒔这种处理的结果保存到一个单独的输出
文件。cat命令在其输入上接受一个或多个文件ゲ⒔它们作为一个单独的文件打印到它
的输出。例如グREADME和INSTALL的文件内容加上行号？瞻仔胁患营ぶ后ソ
内容附加到一个新文本文件File1 中 
$ cat README INSTALL File1 
3cat还有一个重要的功能就是可以对行进行编号ゼ图2所示。这种功能对于程序
文档的编制ヒ约胺律和科学文档的编制很方便ゴ蛴≡谧蟊叩男泻攀沟貌慰嘉牡档哪
一部分变得容易フ庑┰诒喑獭⒖蒲а芯俊⒁滴癖ǜ嫔踔潦橇⒎üぷ髦卸际欠浅Ｖ匾的。 
图2 使用cat命令/etc/named.conf文件进行编号 
对行进行编号功能有-bＶ荒芏苑强瞻仔薪行编号ず-n？梢远运有行进行编号ち
个参数 
$ cat -b /etc/named.conf 
ln 
1.作用 
ln命令用来在文件之间创建链接ニ的使用权限是所有用户。 
2.格式 ln [options] 源文件 [链接名] 
3.参数 
fα唇崾毕冉源文件删除。 
dυ市硐低彻芾碚哂擦唇嶙约旱哪柯肌 
s进行软链结(Symbolic Link)。 
b将在链结时会被覆盖或删除的文件进行备份。 
链接有两种ひ恢直怀莆硬链接Hard Link＊ち硪恢直怀莆符号链接Symbolic Link！
默认情况下ln命令产生硬链接。 
硬连接指通过索引节点来进行的连接。在Linux的文件系统中け４嬖诖排谭智中的文
件不管是什么类型都给它分配一个编号こ莆索引节点号(Inode Index)。在Linux中
多个文件名指向同一索引节点是存在的。一般这种连接就是硬连接。硬连接的作用是允
许一个文件拥有多个有效路径名ふ庋用户就可以建立硬连接到重要文件ひ苑乐埂拔笊尽
的功能。其原因如上所述ひ蛭对应该目录的索引节点有一个以上的连接。只删除一个
连接并不影响索引节点本身和其它的连接ぶ挥械弊詈笠桓隽接被删除后の募的数据
块及目录的连接才会被释放。也就是说の募才会被真正删除。 
与硬连接相对应Lnux系统中还存在另一种连接こ莆符号连接Symbilc Link＊ひ
叫软连接。软链接文件有点类似于Windows的快捷方式。它实际上是特殊文件的一种。
在符号连接中の募实际上是一个文本文件て渲邪含的有另一文件的位置信息。 
动手练习 
上面我们介绍了Linux文件处理命令は旅娼樯芗父鍪道ご蠹铱梢远手练习一下刚才
讲过的命令。 
1.利用符号链接快速访问关键目录 
符号链接是一个非常实用的功能。假设有一些目录或文件需要频繁使用さ由于Linux
的文件和目录结构等原因ふ飧鑫募或目录在很深的子目录中。比如 Apache Web服
务器文档位于系统的/usr/local/httpd/htdocs中げ⑶也幌朊看味家从主目录进入这样一
个长的路径之中(实际上ふ飧雎肪兑卜浅２蝗菀准且)。 
为了解决这个问题た梢栽谥髂柯贾写唇ㄒ桓龇号链接ふ庋在需要进入该目录时ぶ
需进入这个链接即可。 
为了能方便地进入Web服务器(/usr/local/httpd/htdocs)文档所在的目录ぴ谥髂柯枷驴
以使用以下命令 $ ln -s /usr/local/httpd/htdocs gg 
这样每次进入gg目录就可访问Web服务器的文档ひ院笕绻不再访问Web服务器的
文档时ど境gg即可ざ真正的Web服务器的文档并没有删除。 
2.使用dd命令将init.rd格式的root.ram内容导入内存 
dd if=/dev/fd0 of=floppy.fd 
dd if=root.ram of=/dev/ram0 # 
3.grep命令系统调用 
grep是Linux/Unix中使用最广泛的命令之一ば矶Linux系统内部都可以调用它。 
(1)如果要查询目录列表中的目录し椒ㄈ缦陋 
$ ls -l | grep '∧d' 
(2)如果在一个目录中查询不包含目录的所有文件し椒ㄈ缦陋 
$ ls -l | grep '∧[∧d]' 
(3)用find命令调用grepと缢有C源代码中的“Chinput”し椒ㄈ缦陋 
$find /ZhXwin -name *.c -exec grep -q -s Chinput {} \;-print 
-------------------------------------------------------------------------------- 
Linux必学的60个命令(3)-系统管理命令 
Linux必学的系统管理命令 
对于Linux系统来说の蘼凼侵醒氪理器、内存、磁盘驱动器、键盘、鼠标せ故怯没
等都是文件Linux系统管理的命令是它正常运行的核心。熟悉了Linux常用的文件处理
命令以后ふ庖唤步樯芏韵低澈陀没Ы行管理的命令。 
df 
1.作用 
df命令用来检查文件系统的磁盘空间占用情况な褂萌ㄏ奘撬有用户。 
2.格式 
df [options] 
3.主要参数 sФ悦扛Names参数只给出占用的数据块总数。 
aУ莨榈叵允局付目录中各文件及子目录中各文件占用的数据块数。若既不指定s
也不指定aピ蛑幌允Names中的每一个目录及其中的各子目录所占的磁盘块数。 
kб1024字节为单位列出磁盘空间使用情况。 
x跳过在不同文件系统上的目录不予统计。 
lЪ扑闼有的文件大小ザ杂擦唇游募则计算多次。 
i显示inode信息而非块使用量。 
hб匀菀桌斫獾母袷接〕鑫募系统大小ダ如136KB、254MB、21GB。 
P使用POSIX输出格式。 
T显示文件系统类型。 
4.说明 
df命令被广泛地用来生成文件系统的使用统计数据ニ能显示系统中所有的文件系统的
信息グ括总容量、可用的空闲空间、目前的安装点等。 
超级权限用户使用df命令时会发现这样的情况某个分区的容量超过了100ぁＵ馐且
为Linux系统为超级用户保留了10さ目占洫ビ善涞ザ乐配。也就是说ザ杂诔级用户
而言ニ所见到的硬盘容量将是110ぁＵ庋的安排对于系统管理而言是有好处的サ
硬盘被使用的容量接近100な毕低彻芾碓被箍梢哉常工作。 
5.应用实例 
Linux支持的文件系统非常多グ括JFS、ReiserFS、ext、ext2、ext3、ISO9660、XFS、
Minx、vfat、MSDOS等。使用df -T命令查看磁盘空间时还可以得到文件系统的信息 
df T 
文件系统 类型 容量 已用 可用 已用% 挂载点 
/dev/hda7 reiserfs 5.2G 1.6G 3.7G 30% / 
/dev/hda1 vfat 2.4G 1.6G 827M 66% /windows/C 
/dev/hda5 vfat 3.0G 1.7G 1.3G 57% /windows/D 
/dev/hda9 vfat 3.0G 2.4G 566M 82% /windows/E 
/dev/hda10 NTFS 3.2G 573M 2.6G 18% /windows/F /dev/hda11 vfat 1.6G 1.5G 23M 99% /windows/G 
从上面除了可以看到磁盘空间的容量、使用情况外シ智的文件系统类型、挂载点等信
息也一览无遗。 
top 
1.作用 
top命令用来显示执行中的程序进程ナ褂萌ㄏ奘撬有用户。 
2.格式 
top [] [d delay] [q] [c] [S] [s] [i] [n] 
3.主要参数 
dе付ǜ新的间隔ヒ悦爰扑恪 
q没有任何延迟的更新。如果使用者有超级用户ピtop命令将会以最高的优先序执行。 
c显示进程完整的路径与名称。 
SЮ刍模式セ峤己完成或消失的子行程的CPU时间累积起来。 
sО踩模式。 
iР幌允救魏蜗兄(Idle)或无用(Zombie)的行程。 
n显示更新的次数ネ瓿珊蠼会退出top。 
4.说明 
top命令是Linux系统管理的一个主要命令ネü它可以获得许多信息。这里我们结合图
1来说明它给出的信息。 
图1 top命令的显示 
在图1中サ谝恍斜硎镜南钅恳来挝当前时间、系统启动时间、当前系统登录用户数目、
平均负载。第二行显示的是所有启动的进程、目前运行的、挂起 (Sleeping)的和无用
(Zombie)的进程。第三行显示的是目前CPU的使用情况グ括系统占用的比例、用户使
用比例、闲置(Idle)比例。第四行显示物理内存的使用情况グ括总的可以使用的内存、
已用内存、空闲内存、缓冲区占用的内存。第五行显示交换分区使用情况グ括总的交
换分区、使用的、空闲的和用于高速缓存的大小。第六行显示的项目最多ハ旅媪谐隽
详细解释。 
PIDProcess IDおЫ程标示号。 USERソ程所有者的用户名。 
PRソ程的优先级别。 
NIソ程的优先级别数值。 
VIRTソ程占用的虚拟内存值。 
RESソ程占用的物理内存值。 
SHRソ程使用的共享内存值。 
Sソ程的状态て渲S表示休眠R表示正在运行Z表示僵死状态N表示该进程
优先值是负数。 
%CPUジ媒程占用的CPU使用率。 
%MEMジ媒程占用的物理内存和总内存的百分比。 
TIME＊ジ媒程启动后占用的总的CPU时间。 
Commandソ程启动的启动命令名称と绻这一行显示不下そ程会有一个完整的命令
行。 
top命令使用过程中せ箍梢允褂靡恍┙换サ拿令来完成其它参数的功能。这些命令是
通过快捷键启动的。 
<空格>チ⒖趟⑿隆 
Pジ据CPU使用大小进行排序。 
Tジ据时间、累计时间排序。 
qネ顺top命令。 
mデ谢幌允灸诖嫘畔。 
tデ谢幌允窘程和CPU状态信息。 
cデ谢幌允久令名称和完整命令行。 
Mジ据使用内存大小进行排序。 
Wソ当前设置写入~/.toprc文件中。这是写top配置文件的推荐方法。 
可以看到top命令是一个功能十分强大的监控系统的工具ざ杂谙低彻芾碓倍言尤其
重要。但是に的缺点是会消耗很多系统资源。 
5.应用实例 使用top命令可以监视指定用户θ笔∏榭鍪羌嗍铀有用户的进程。如果想查看指定用
户的情况υ谥斩酥邪础U”键θ缓笫淙胗没名ο低尘突崆谢晃指定用户的进程运行界
面见图2所示。 
图2 使用top命令监视指定用户 
free 
1.作用 
free命令用来显示内存的使用情况κ褂萌ㄏ奘撬有用户。 
2.格式 
free [b|k|m] [o] [s delay] [t] [V] 
3.主要参数 
b k mǚ直鹨宰纸讵KB、MBノ单位显示内存使用情况。 
s delayㄏ允久扛舳嗌倜胧来显示一次内存使用情况。 
tㄏ允灸诖孀芎土小 
oú幌允净撼迩调节列。 
4.应用实例 
free命令是用来查看内存使用情况的主要命令。和top命令相比λ的优点是使用简单
并且只占用很少的系统资源。通过S参数可以使用free命令不间断地监视有多少内存
在使用φ庋可以把它当作一个方便实时监控器。 
free b s5 
使用这个命令后终端会连续不断地报告内存使用情况ひ宰纸谖单位オγ5秒更新一
次。 
quota 
1.作用 
quota命令用来显示磁盘使用情况和限制情况κ褂萌ㄏ蕹级用户。 
2.格式 
quota [g][u][v][p] 用户名 组名 
3.参数 gㄏ允居没所在组的磁盘使用限制。 
uㄏ允居没У拇排淌褂孟拗啤 
vㄏ允久挥蟹峙淇占涞奈募系统的分配情况。 
pㄏ允炯蚧信息。 
4.应用实例 
在企业应用中磁盘配额非常重要ζ胀ㄓ没б学会看懂自己的磁盘使用情况。要查询自
己的磁盘配额可以使用下面命令は吕中用户账号是caojh) 
quota caojh 
Disk quotas for user caojh(uid 502): 
Filesystem blocks quota limit grace files quota limit grace 
/dev/hda3 58 200000 400000 41 500 1000 
以上显示ID号为502的caojh账号ξ募个数设置为5001000个τ才炭占湎拗粕
置为200MB400MB。一旦磁盘配额要用完时就需要删除一些垃圾文件或向系统管理
员请求追加配额。 
at 
1.作用 
at命令用来在指定时刻执行指定的命令序列。 
2.格式 
at [V] [q x] [f file] [m] time 
3.主要参数 
Vㄏ允颈曜即砦笫涑觥 
qㄐ矶喽恿惺涑觥 
fù游募中读取作业。 
mㄖ葱型曜饕岛蠓⑺偷缱佑始到用户。 
timeㄉ瓒ㄗ饕抵葱械氖奔洹time格式有严格的要求τ尚∈薄⒎种印⑷掌诤褪奔涞钠
移量组成ζ渲腥掌诘母袷轿MM.DD.YYMM是分钟DD是日期YY是指年份。偏
移量的格式为时间テ移量Φノ皇minutes、hours和days。 4.应用实例 
at f data 15:30 +2 days 
上面命令表示让系统在两天后的1730执行文件data中指明的作业。 
lp 
1.作用 
lp是打印文件的命令κ褂萌ㄏ奘撬有用户。 
2.格式 
lp [c][d][m][number][title][-p] 
3.主要参数 
cㄏ瓤奖次募再打印。 
dù蛴《恿形募。 
mù蛴〗崾后发送电子邮件到用户。 
numberù蛴》菔。 
titleù蛴”晏狻 
pㄉ瓒ù蛴〉挠畔燃侗皙ψ罡呶100。 
4.应用实例 
1ナ褂lp命令打印多个文件 
lp 2 3 4 
request id is 11 (3 file(s)) 
其中2、3、4分别是文件名“request id is 11 (3 file(s)) ”表示这是第11个打印命令
依次打印这三个文件。 
2ド瓒ù蛴∮畔燃侗 
lp lp -d LaserJet -p 90 /etc/aliases 
通过添加“-p 90”规定了打印作业的优先级为90。它将在优先级低于90的打印作业之
前打印Π括没有设置优先级的作业θ笔∮畔燃妒50 
useradd 1.作用 
useradd命令用来建立用户帐号和创建用户的起始目录Ｊ褂萌ㄏ奘浅级用户。 
2.格式 
useradd [d home] [s shell] [c comment] [m [k template]] [f inactive] [e 
expire ] [p passwd] [r] name 
3.主要参数 
cゼ由媳缸⑽淖知１缸⑽淖直４嬖passwd的备注栏中。  
dブ付ㄓ没У侨胧钡钠羰寄柯肌 
Dケ涓预设值。 
eブ付ㄕ撕诺挠行期限Ｈ笔”硎居谰糜行А 
fブ付ㄔ诿苈牍期后多少天即关闭该账号。 
gブ付ㄓ没所属的群组。 
Gブ付ㄓ没所属的附加群组。 
mプ远建立用户的登入目录。 
Mゲ灰自动建立用户的登入目录。 
nト∠建立以用户名称为名的群组。 
rソ立系统账号。 
sブ付ㄓ没У侨牒笏使用的shell。 
uブ付ㄓ没ID号。 
4.说明 
useradd可用来建立用户账号Ｋ和adduser命令是相同的。账号建好之后Ｔ儆passwd
设定账号的密码。使用useradd命令所建立的账号Ｊ导噬鲜潜４嬖/etc/passwd文本
文件中。 
5.应用实例 
建立一个新用户账户２⑸柚ID 
useradd caojh u 544 需要说明的是ι瓒ID值时尽量要大于500σ悦獬逋弧Ｒ蛭Linux安装后会建立一些
特殊用户σ话0到499之间的值留给bin、mail这样的系统账号。 
groupadd 
1.作用 
groupadd命令用于将新组加入系统。 
2.格式 
groupadd [g gid] [o]] [r] [f] groupname 
3.主要参数 
g gidㄖ付ㄗID号。 
oㄔ市碜ID号Σ槐匚┮弧 
r加入组ID号Φ陀499系统账号。 
f加入已经有的组时Ψ⒄钩绦蛲顺觥 
4.应用实例 
建立一个新组Σ⑸柚米ID加入系统 
groupadd g 344 cjh 
此时在/etc/passwd文件中产生一个组IDGIDナ344的项目。 
kill 
1.作用 
kill命令用来中止一个进程。 
2.格式 
kill [ s signal | p ] [ a ] pid ... 
kill l [ signal ] 
3.参数 
sㄖ付ǚ⑺偷男藕拧 
p模拟发送信号。 
lㄖ付ㄐ藕诺拿称列表。 pidб中止进程的ID号。 
SignalП硎拘藕拧 
4.说明 
进程是Linux系统中一个非常重要的概念。Linux是一个多任务的操作系统ハ低成暇常
同时运行着多个进程。我们不关心这些进程究竟是如何分配的セ蛘呤悄诤巳绾喂芾矸
配时间片的ニ关心的是如何去控制这些进程ト盟们能够很好地为用户服务。 
Linux 操作系统包括三种不同类型的进程ッ恐纸程都有自己的特点和属性。交互进程
是由一个Shell启动的进程。交互进程既可以在前台运行ヒ部梢栽诤筇ㄔ诵小Ｅ处理
进程和终端没有联系ナ且桓鼋程序列。监控进程Ｒ渤葡低呈鼗そ程なLinux系统
启动时启动的进程ゲ⒃诤筇ㄔ诵小＠如httpd是著名的 Apache服务器的监控进程。 
kill命令的工作原理是ハLinux系统的内核发送一个系统操作信号和某个程序的进程标
识号ト缓笙低衬诤司涂梢远越程标识号指定的进程进行操作。比如在top命令中ノ
们看到系统运行许多进程ビ惺本托枰使用kill中止某些进程来提高系统资源。在讲解
安装和登陆命令时ピ提到系统多个虚拟控制台的作用是当一个程序出错造成系统死锁
时タ梢郧谢坏狡渌虚拟控制台工作关闭这个程序。此时使用的命令就是killヒ蛭kill
是大多数Shell内部命令可以直接调用的。 
5.应用实例 
1で啃兄兄躬＞常使用杀掉ひ桓鼋程标识号为324的进程 
kill 9 324 
2そ獬Linux系统的死锁 
在Linux 中有时会发生这样一种情况б桓龀绦虮览＊ゲ⑶掖τ谒浪的状态。此时一般
不用重新启动计算机ブ恍枰中止(或者说是关闭)这个有问题的程序即可。当 kill处于
X-Window界面时ブ饕的程序(除了崩溃的程序之外)一般都已经正常启动了。此时打开
一个终端ピ谀抢镏兄褂形侍獾某绦颉１热绐ト绻 Mozilla浏览器程序出现了锁死的情
况タ梢允褂kill命令来中止所有包含有Mozolla浏览器的程序。首先用top命令查处该
程序的PIDト缓笫褂kill命令停止这个程序 
kill SIGKILL XXX 
其中XXX是包含有Mozolla浏览器的程序的进程标识号。 
3な褂妹令回收内存 我们知道内存对于系统是非常重要的回收内存可以提高系统资源。kill命令可以及时地
中止一些“越轨”的程序或很长时间没有相应的程序。例如κ褂top命令发现一个无用 
(Zombie) 的进程Υ耸笨梢允褂孟旅婷令 
kill 9 XXX 
其中XXX是无用的进程标识号。 
然后使用下面命令 
free 
此时会发现可用内存容量增加了。 
4killall命令 
Linux下还提供了一个killall命令可以直接使用进程的名字而不是进程标识号例如 
 killall -HUP inetd 
crontab 
1.作用 
使用crontab命令可以修改crontab配置文件θ缓蟾门渲糜cron公用程序在适当的时
间执行Ω妹令使用权限是所有用户。 
2.格式 
crontab [ u user ] 文件 
crontab [ u user ] { l | r | e } 
3.主要参数 
eㄖ葱形淖直嗉器来设定时程表δ诙ǖ奈淖直嗉器是vi。 
rㄉ境目前的时程表。 
l列出目前的时程表。 
crontab 文件的格式为“M H D m d cmd”。其中M代表分钟059オH代表小时0
23オD代表天131オm代表月112オd代表一星期内的天060为星
期天ァcmd表示要运行的程序λ被送入sh执行φ飧Shell只有USER、HOME、
SHELL三个环境变量。 
4.说明 和at命令相比crontab命令适合完成固定周期的任务。 
5.应用实例 
设置一个定时、定期的系统提示 
[cao @www cao]#crontab e 
此时系统会打开一个vi编辑器。 
如果输入以下内容35 17 * * 5 wall "Tomorrow is Saturday I will go CS"ト缓蟠媾掏
出。这时在/var/spool/cron/目录下会生产一个cao的文件ツ谌萑缦陋 
# DO NOT EDIT THIS FILE  edit the master and reinstall. 
# (/tmp/crontab.2707 installed on Thu Jan 1 22:01:51 2004) 
# (Cron version Κ $Id: crontab.c,v 2.13 1994/01/17 03:20:37 vixie Exp $) 
35 17 * * 5 wall "Tomorrow is Saturday I will play CS " 
这样每个星期五1735系统就会弹出一个终端ヌ嵝研瞧诹可以打打CS了Ｏ允窘峁
见图3所示。 
图3 一个定时、定期的系统提示 
动手练习 
1.联合使用kill和top命令观察系统性能的变化 
首先启动一个终端运行top命令ト缓笤倨舳一个终端使用kill命令ゼ图4所示。 
图4 观察kill命令对top终端的影响 
这时利用上面介绍的kill命令来中止一些程序 
kill SIGKILL XXX 
然后再看top命令终端的变化グ括内存容量、CPU使用率、系统负载等。注意ビ行
进程是不能中止的ゲ还学习Linux命令时可以试试タ纯聪低秤惺裁捶从Α 
2.使用at和halt命令定时关机 
首先设定关机时间是17:35ナ淙胂旅娲码 
at 17:35 
warning: commands will be executed using (in order) a) $SHELL b) login shell c) 
/bin/sh at>halt `-i p 
at> <EOT> 
job 6 at 20040101 17:35 
此时实际上就已经进入Linux系统的ShellР⑶冶嘈匆桓鲎罴虻コ绦颡halt i p。
上面Shell中的文本结束符号表示按“CtrlD”组合键关闭命令提交任务退出Shell。“Job 
6 at 20040101 17:35”表示系统接受第6个at命令г凇20040101 17:35”时执
行命令┫劝阉有网络相关的装置停止Ч乇障低澈蠊乇盏缭础 
3.用crontab命令实现每天定时的病毒扫描 
前面已经介绍了一个简单的crontab命令操作д饫锟匆恍└重要的操作。 
1ソ立一个文件文件名称自己设定Ъ偕栉caoproject 
crontab e 
2ノ募内容如下 
05 09 * * * antivir 
用vi编辑后存盘退出。antivir是一个查杀Linux病毒的软件У比恍枰时先安装在系统
中。 
3ナ褂crontab命令添加到任务列表中 
crontab caoproject 
这样系统内所有用户在每天的9点05分会自动进行病毒扫描。 
4.用kill使修改的配置文件马上生效 
Windows用户一般都知道е匾配置文件修改后往往都要重新启动计算机才能使修改生
效。而Linux由于采用了模块化设计Э梢宰约焊据需要实时设定服务。这里以网络服
务inetd为例介绍一些操作技巧。 
inetd 是一个监听守护进程Ъ嗵与提供互联网服务进程とrlogin、telnet、ftp、rsh
进行连接的要求Р⒗┱顾需的服务进程。默认情况下 inetd监听的这些daemon均
列于/etc /inetd.conf文件中。编辑/etc/inetd.conf文件Э梢愿谋inetd启动服务器守护
进程的选项然后驱使inetd以 SIGHUPsignal 1ハ虻鼻暗inetd进程发送信号使
inetd重读该文件。这一过程由kill命令来实现。 
用vi或其它编辑器修改inetd.conf后首先使用下面命令 ps -ef |grep inetd 
上面代码表明查询inetd.conf的进程号(PID)ふ饫锛偕枋1426と缓笫褂孟旅婷令 
 kill -1426 inetd 
这样配置文件就生效了。 
这一讲介绍的系统管理命令都是比较重要的ぬ乇鹗crontab命令和quota命令使用起
来会有一定难度ば枰多做一些练习。另外な褂kill命令要注意“9“这个参数ち废
时最好不要运行一些重要的程序。 
-------------------------------------------------------------------------------- 
Linux必学的60个命令(4)-网络操作命令 
Linux必学的60个命令ν络操作命令 
因为Linux系统是在Internet上起源和发展的に与生俱来拥有强大的网络功能和丰富
的网络应用软件び绕涫TCP/IP网络协议的实现尤为成熟。 Linux的网络命令比较多
其中一些命令像ping、 ftp、telnet、route、netstat等在其它操作系统上也能看到さ
也有一些Unix/Linux系统独有的命令とifconfig、 finger、mail等。Linux网络操作命
令的一个特点是っ令参数选项和功能很多ひ桓雒令往往还可以实现其它命令的功能。 
ifconfig 
1.作用 
ifconfig用于查看和更改网络接口的地址和参数ぐ括IP地址、网络掩码、广播地址
使用权限是超级用户。 
2.格式 
ifconfig -interface [options] address 
3.主要参数 
-interfaceχ付ǖ耐络接口名とeth0和eth1。 
up激活指定的网络接口卡。 
down关闭指定的网络接口。 
broadcast addressι柚媒涌诘墓悴サ刂贰 
pointopointζ粲玫愣缘惴绞健 
addressι柚弥付接口设备的IP地址。 netmask addressど柚媒涌诘淖油掩码。 
4.应用说明 
ifconfig是用来设置和配置网卡的命令行工具。为了手工配置网络Ｕ馐且桓霰匦胝莆盏
命令。使用该命令的好处是无须重新启动机器。要赋给eth0接口IP地址207.164.186.2
并且马上激活它Ｊ褂孟旅婷令 
#fconfig eth0 210.34.6.89 netmask 255.255.255.128 broadcast 210.34.6.127 
该命令的作用是设置网卡eth0的IP地址、网络掩码和网络的本地广播地址。若运行不
带任何参数的ifconfig命令Ｕ飧雒令将显示机器所有激活接口的信息。带有“-a”参数的
命令则显示所有接口的信息０括没有激活的接口。注意Ｓifconfig命令配置的网络
设备参数；器重新启动以后将会丢失。 
如果要暂停某个网络接口的工作？梢允褂down参数 
#ifconfig eth0 down 
ip 
1.作用 
ip是iproute2软件包里面的一个强大的网络配置工具Ｋ能够替代一些传统的网络管理
工具＠如ifconfig、route等Ｊ褂萌ㄏ尬超级用户。几乎所有的Linux发行版本都支
持该命令。 
2.格式 
ip [OPTIONS] OBJECT [COMMAND [ARGUMENTS]] 
3.主要参数 
OPTIONS是修改ip行为或改变其输出的选项。所有的选项都是以-字符开头７治长、
短两种形式。目前ip支持如表1所示选项。 
OBJECT是要管理者获取信息的对象。目前ip认识的对象见表2所示。 
表1 ip支持的选项 
-V,-Version 打印ip的版本并退出。 
-s,-stats,-statistics 输出更为详尽的信息。如果这个选项出现两次或多次Ｔ蚴涑龅男畔
将更为详尽。 -f,-family 这个选项后面接协议种类０括inet、inet6或linkＧ康魇褂玫男议种类。如
果没有足够的信息告诉ip使用的协议种类ip就会使用默认值inet或any。link比较特
殊Ｋ表示不涉及任何网络协议。 
-4 是-family inet的简写。 
-6 是-family inet6的简写。 
-0 是-family link的简写。 
-o,-oneline 对每行记录都使用单行输出；匦杏米址代替。如果需要使用wc、grep等
工具处理ip的输出Ｔ蚧嵊玫秸飧鲅∠睢 
-r,-resolve 查询域名解析系统Ｓ没竦玫闹骰名代替主机IP地址 
COMMAND 设置针对指定对象执行的操作Ｋ和对象的类型有关。一般情况下ip支
持对象的增加(add)、删除(delete)和展示(show或list)。有些对象不支持这些操作；蛘
有其它的一些命令。对于所有的对象Ｓ没Э梢允褂help命令获得帮助。这个命令会列
出这个对象支持的命令和参数的语法。如果没有指定对象的操作命令ip会使用默认的
命令。一般情况下Ｄ认命令是listＨ绻对象不能列出＞突嶂葱help命令。 
ARGUMENTS 是命令的一些参数Ｋ们倚赖于对象和命令。ip支持两种类型的参数
flag和parameter。flag由一个关键词组成parameter由一个关键词加一个数值组成。
为了方便Ｃ扛雒令都有一个可以忽略的默认参数。例如２问dev是ip link命令的默
认参数Ｒ虼ip link ls eth0等于ip link ls dev eth0。我们将在后面的详细介绍每个命令
的使用Ｃ令的默认参数将使用default标出。 
4.应用实例 
添加IP地址192.168.2.2/24到eth0网卡上 
#ip addr add 192.168.1.1/24 dev eth0 
丢弃源地址属于192.168.2.0/24网络的所有数据报 
#ip rule add from 192.168.2.0/24 prio 32777 reject 
ping 
1.作用 
ping检测主机网络接口状态Ｊ褂萌ㄏ奘撬有用户。 
2.格式 
ping [-dfnqrRv][-c][-i][-I][-l][-p][-s][-t] IP地址 3.主要参数 
-dＪ褂Socket的SO_DEBUG功能。 
-cＩ柚猛瓿梢求回应的次数。 
-f＜限检测。 
-iＶ付ㄊ辗⑿畔⒌募涓裘胧。 
-IＭ络界面使用指定的网络界面送出数据包。 
-lＧ爸迷厝氇⑸柚迷谒统鲆求信息之前⑾刃蟹⒊龅氖据包。 
-nＶ皇涑鍪值。 
-pＩ柚锰盥数据包的范本样式。 
-q２幌允局噶钪葱泄程⒖头和结尾的相关信息除外。 
-r：雎云胀ǖRouting Table⒅苯咏数据包送到远端主机上。 
-R＜锹悸酚晒程。 
-sＩ柚檬据包的大小。 
-tＩ柚么婊钍值TTL的大小。 
-vＯ晗赶允局噶畹闹葱泄程。 
ping 命令是使用最多的网络指令⑼ǔＮ颐鞘褂盟检测网络是否连通⑺使用ICMP协
议。但是有时会有这样的情况⑽颐强梢凿览器查看一个网页⒌是却无法 ping通
这是因为一些网站处于安全考虑安装了防火墙。另外⒁部梢栽谧约杭扑慊上试一试
通过下面的方法使系统对ping没有反应 
# echo 1 > /proc/sys/net/ipv4/icmp_echo_ignore_all 
netstat 
1.作用 
检查整个Linux网络状态。 
2.格式 
netstat [-acCeFghilMnNoprstuvVwx][-A][--ip] 
3.主要参数 -a--allＯ允舅有连线中的Socket。 
-AＡ谐龈猛络类型连线中的IP相关地址和网络类型。 
-c--continuous３中列出网络状态。 
-C--cacheＯ允韭酚善髋渲玫目烊⌒畔。 
-e--extendＯ允就络其它相关信息。 
-F--fibＯ允FIB。 
-g--groupsＯ允径嘀毓悴スδ苋鹤樽樵泵单。 
-h--helpＴ谙甙镏。 
-i--interfacesＯ允就络界面信息表单。 
-l--listeningＯ允炯嗫刂械姆务器的Socket。 
-M--masqueradeＯ允疚弊暗耐络连线。 
-n--numericＶ苯邮褂IP地址⒍不通过域名服务器。 
-N--netlink--symbolicＯ允就络硬件外围设备的符号连接名称。 
-o--timersＯ允炯剖逼鳌 
-p--programsＯ允菊在使用Socket的程序识别码和程序名称。 
-r--routeＯ允Routing Table。 
-s--statisticeＯ允就络工作信息统计表。 
-t--tcpＯ允TCP传输协议的连线状况。 
-u--udpＯ允UDP传输协议的连线状况。 
-v--verboseＯ允局噶钪葱泄程。 
-V--versionＯ允景姹拘畔。 
-w--rawＯ允RAW传输协议的连线状况。 
-x--unix：椭付ā-A unix”参数相同。 
--ip--inet：椭付ā-A inet”参数相同。 
4.应用实例 netstat 主要用于Linux察看自身的网络状况ト缈启的端口、在为哪些用户服务ヒ约
服务的状态等。此外ニ还显示系统路由表、网络接口状态等。可以说ニ是一个综合
性的网络状态的察看工具。在默认情况下netstat只显示已建立连接的端口。如果要显
示处于监听状态的所有端口ナ褂-a参数即可 
#netstat -a 
Active Internet connections (only servers) 
Proto Recv-Q Send-Q Local Address Foreign Address State 
tcp 0 0 *:32768 *:* LISTEN 
tcp 0 0 *:32769 *:* LISTEN 
tcp 0 0 *:nfs *:* LISTEN 
tcp 0 0 *:32770 *:* LISTEN 
tcp 0 0 *:868 *:* LISTEN 
tcp 0 0 *:617 *:* LISTEN 
tcp 0 0 *:mysql *:* LISTEN 
tcp 0 0 *:netbios-ssn *:* LISTEN 
tcp 0 0 *:sunrpc *:* LISTEN 
tcp 0 0 *:10000 *:* LISTEN 
tcp 0 0 *:http *:* LISTEN 
...... 
上面显示出フ馓ㄖ骰同时提供HTTP、FTP、NFS、MySQL等服务。 
telnet 
1.作用 
telnet表示开启终端机阶段作业ゲ⒌侨朐抖酥骰。telnet是一个Linux命令ネ时也是
一个协议Ｔ冻痰锹叫议ぁ 
2.格式 
telnet [-8acdEfFKLrx][-b][-e][-k][-l][-n][-S][-X][主机名称IP地址<通信端口>] 
3.主要参数 -8Ｔ市硎褂8位字符资料包括输入与输出。 
-a３⑹宰远登入远端系统。 
-bＪ褂帽鹈指定远端主机名称。 
-c２欢寥∮没ёㄊ裟柯祭锏.telnetrc文件。 
-dＦ舳排错模式。 
-eＩ柚猛牙胱址。 
-EＢ顺脱离字符。 
-f４瞬问的效果和指定“-F”参数相同。 
-FＪ褂Kerberos V5认证时⒓由洗瞬问可把本地主机的认证数据上传到远端主机。 
-kＪ褂Kerberos认证时⒓由洗瞬问让远端主机采用指定的领域名⒍非该主机的域
名。 
-K２蛔远登入远端主机。 
-lＶ付ㄒ登入远端主机的用户名称。 
-LＴ市硎涑8位字符资料。 
-nＶ付ㄎ募记录相关信息。 
-rＪ褂美嗨rlogin指令的用户界面。 
-S７务类型⑸柚telnet连线所需的IP TOS信息。 
-x＜偕柚骰有支持数据加密的功能⒕褪褂盟。 
-X９乇罩付ǖ娜现ば翁。 
4.应用说明 
用户使用telnet命令可以进行远程登录⒉⒃谠冻碳扑慊之间进行通信。用户通过网络
在远程计算机上登录⒕拖竦锹嫉奖镜鼗上执行命令一样。为了通过 telnet登录到远程
计算机上⒈匦胫道远程机上的合法用户名和口令。虽然有些系统确实为远程用户提供
登录功能⒌出于对安全的考虑⒁限制来宾的操作权限⒁虼霜⒄庵智榭鱿履苁褂玫
功能是很少的。 
t 
 